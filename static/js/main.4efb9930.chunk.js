(this["webpackJsonpupload-test-app"]=this["webpackJsonpupload-test-app"]||[]).push([[0],{49:function(e){e.exports=JSON.parse('{"a":"https://tran-recon.herokuapp.com/api/v1/"}')},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c,a=n(1),i=n(15),r=n.n(i),s=(n(55),n(18)),l=n(17),o=n(50),d=n(102),j=n(11),u=n(12),b=u.a.div(c||(c=Object(j.a)(["\n  width: 100%;\n  max-width: 700px;\n  margin: 2em auto;\n  padding: 2em;\n  font-size: 85%;\n  background-color: white;\n\n  form {\n    & > * + * {\n      margin-top: 2em;\n    }\n  }\n"]))),h=n(48),x=n.n(h),m=n(49),p=x.a.create({baseURL:m.a});p.interceptors.request.use((function(e){return e.headers["Content-Type"]="multipart/form-data",e}),(function(e){return Promise.reject(e)}));var O,f,v,g,y=p,w=n(87),k=n(88),N=n(89),F=n(90),R=n(2),S=u.a.li(O||(O=Object(j.a)(["\n  display: grid;\n  align-items: center;\n  grid-template-columns: 1fr 1fr;\n  font-size: 12px;\n  gap: 5px;\n  justify-items: flex-start;\n"]))),C=function(e){var t=e.title,n=e.content,c=e.style;return Object(R.jsxs)(S,{style:c,children:[Object(R.jsx)("div",{className:"truncate",children:t}),Object(R.jsx)("div",{className:"truncate bold",children:n||"N/A"})]})},D=u.a.div(f||(f=Object(j.a)(["\n  padding: 0 2em;\n\n  .title {\n    font-size: 1.2rem;\n    font-weight: 500;\n  }\n\n  .content {\n    width: 100%;\n    padding: 1em 0em;\n\n    .card-box {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-wrap: wrap;\n      gap: 20px;\n\n      & > div {\n        flex: 1;\n        min-width: 250px;\n        max-width: 100%;\n      }\n    }\n  }\n"]))),T=function(e){var t=e.values,n=e.setPageState,c=e.comparationData;console.log({comparationData:c});var a=function(e){return[{key:"totalRecords",title:"Total Records",content:e.totalRecords},{key:"matchingRecords",content:e.matchingRecords,title:"Matching Records"},{key:"unmatchedRecords",title:"Unmatched Records",content:e.unmatchedRecords}]};return Object(R.jsxs)(D,{children:[Object(R.jsx)("h2",{className:"title",children:"Comparison Results"}),Object(R.jsxs)("div",{className:"content",children:[Object(R.jsxs)("div",{className:"card-box",children:[Object(R.jsxs)(w.a,{children:[Object(R.jsx)(k.a,{className:"bold large",children:t.tutukaFile.name}),Object(R.jsx)(N.a,{children:Object(R.jsx)(F.a,{children:a(c.tutukaRecords).map((function(e){var t=e.key,n=e.title,c=e.content;return Object(R.jsx)(C,{title:n,content:c},t)}))})})]}),Object(R.jsxs)(w.a,{children:[Object(R.jsx)(k.a,{className:"bold large",children:t.clientFile.name}),Object(R.jsx)(N.a,{children:Object(R.jsx)(F.a,{children:a(c.clientRecords).map((function(e){var t=e.key,n=e.title,c=e.content;return Object(R.jsx)(C,{title:n,content:c},t)}))})})]})]}),Object(R.jsx)("div",{className:"centered mt-4",children:Object(R.jsx)("button",{type:"button",onClick:function(){return n((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasMatchedResult:!0})}))},className:"btn btn-primary",children:"Unmatched Report"})})]})]})},z=n(103),A=n(91),U=n(92),V=n(93),B=n(94),M=n(95),I=n(96),L=n(97),P=n(98),E=n(99),J=n(100),q=n(101),K=u.a.div(v||(v=Object(j.a)(["\n  padding: 0 2em;\n\n  .content {\n    width: 100%;\n    padding: 1em 0em;\n\n    .navitem {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      border-bottom: 1px solid rgb(85, 216, 189);\n      padding: 0;\n\n      .navlink {\n        flex: 1;\n        border-radius: 0;\n        padding: 1em;\n        font-weight: 400;\n        min-width: 10em;\n        text-align: center;\n        cursor: context-menu;\n        border-bottom: 2px solid transparent;\n\n        &:hover {\n          font-weight: 500;\n        }\n\n        &.active {\n          border-width: 2px;\n          border-top-left-radius: 7px;\n          border-top-right-radius: 7px;\n          border-color: rgb(85, 216, 189);\n          font-weight: 700;\n\n          &::after {\n            width: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  tr th {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]))),G=function(e){var t=e.comparationData,n=Object(a.useState)("tutuka"),c=Object(l.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(void 0),o=Object(l.a)(s,2),d=o[0],j=o[1],u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(R.jsx)("tbody",{children:e.map((function(e){var n=e.transactionId,c=e.suggested,a=e.transactionDate,i=e.transactionAmount,r=e.transactionDescription,s=e.transactionNarrative;return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:new Date(a).toLocaleDateString()}),Object(R.jsx)("td",{children:i.toLocaleString()}),Object(R.jsx)("td",{clasName:"".concat("DEDUCT"===r?"error-box":"success-box"),children:r.toLowerCase()}),Object(R.jsx)("td",{children:s}),t&&Object(R.jsx)("td",{children:Object(R.jsx)("button",{onClick:function(){return j(c)},type:"button",className:"btn btn-outline-info small",children:"View"})})]},n)}))})};if(d){var b=function(){return j(void 0)};return Object(R.jsxs)(z.a,{isOpen:!0,toggle:b,children:[Object(R.jsxs)(A.a,{className:"bold large",toggle:b,children:["Suggested Amount: %",d.score]}),Object(R.jsx)(U.a,{children:Object(R.jsxs)(V.a,{children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Transaction Date"}),Object(R.jsx)("th",{children:"Transaction Amount"}),Object(R.jsx)("th",{children:"Reference"}),Object(R.jsx)("th",{children:"Narrative"})]})}),u([d.suggested],!1)]})}),Object(R.jsx)(B.a,{children:Object(R.jsx)(M.a,{color:"secondary",onClick:b,children:"OK"})})]})}return Object(R.jsxs)(K,{children:[Object(R.jsx)("h2",{className:"large bold",children:"Unmatched Reports"}),Object(R.jsxs)("div",{className:"content",children:[Object(R.jsxs)(I.a,{tabs:!0,className:"navitem",children:[Object(R.jsx)(L.a,{children:Object(R.jsxs)(P.a,{className:"navlink ".concat("tutuka"===i?"active":""),onClick:function(){return r("tutuka")},children:[" ","Base Records"]})}),Object(R.jsx)(L.a,{children:Object(R.jsx)(P.a,{className:"navlink ".concat("client"===i?"active":""),onClick:function(){return r("client")},children:"Client Records"})})]}),Object(R.jsxs)(E.a,{activeTab:i,children:[Object(R.jsx)(J.a,{tabId:"tutuka",children:Object(R.jsx)(q.a,{children:Object(R.jsxs)(V.a,{responsive:!0,children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Transaction Date"}),Object(R.jsx)("th",{children:"Transaction Amount"}),Object(R.jsx)("th",{children:"Reference"}),Object(R.jsx)("th",{children:"Narrative"}),Object(R.jsx)("th",{style:{width:150},children:"View"})]})}),u(t.tutukaRecords.unmatchedTransactions)]})})}),Object(R.jsx)(J.a,{tabId:"client",children:Object(R.jsx)(q.a,{children:Object(R.jsxs)(V.a,{responsive:!0,children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Transaction Date"}),Object(R.jsx)("th",{children:"Transaction Amount"}),Object(R.jsx)("th",{children:"Reference"}),Object(R.jsx)("th",{children:"Narrative"})]})}),u(t.clientRecords.unmatchedTransactions)]})})})]})]})]})},H=u.a.div(g||(g=Object(j.a)(["\n  padding: 0 2em;\n\n  & > * + * {\n    margin-top: 2em;\n  }\n\n  .title {\n    font-size: 1.2rem;\n    font-weight: 500;\n  }\n\n  .content {\n    display: flex;\n    align-items: flex-end;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    gap: 20px;\n\n    .upload-box {\n      width: 100%;\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n      gap: 15px;\n\n      label {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        gap: 10px;\n\n        span {\n          display: inline-block;\n          width: 100%;\n          min-width: 200px;\n          flex: 1;\n          height: 40px;\n          border: 1px solid green;\n          border-radius: 7px;\n          padding: 0.6em 1em;\n        }\n      }\n    }\n  }\n"]))),Q=function(e){var t,n,c,a=e.errors,i=e.values,r=e.setFieldError,s=e.setFieldValue,l=function(e,t){e.persist();var n=e.currentTarget.files[0];if(n||r(t,"Upload a File"),n.size>3e5)return r(t,"File size is too large"),void setTimeout((function(){return r(t,"")}),1500);"undefined"!==typeof n&&(console.log({file:n}),s(t,n))};return Object(R.jsxs)(H,{children:[Object(R.jsx)("h2",{className:"title",children:"Specify files to compare"}),(null===a||void 0===a?void 0:a.tutukaFile)?Object(R.jsx)("div",{className:"error-box",children:a.tutukaFile}):null,(null===a||void 0===a?void 0:a.clientFile)?Object(R.jsx)("div",{className:"error-box",children:a.clientFile}):null,Object(R.jsxs)("div",{className:"content",children:[Object(R.jsxs)("div",{className:"upload-box",children:[Object(R.jsxs)("label",{htmlFor:"tutukaFile",children:[Object(R.jsx)("span",{children:null!==(t=null===(n=i.tutukaFile)||void 0===n?void 0:n.name)&&void 0!==t?t:"Select Base File"}),Object(R.jsx)("div",{className:"btn btn-outline-success",type:"button",children:"Browse"})]}),Object(R.jsxs)("label",{htmlFor:"clientFile",children:[Object(R.jsx)("span",{children:(null===(c=i.clientFile)||void 0===c?void 0:c.name)||"Select Client File"}),Object(R.jsx)("div",{className:"btn btn-outline-success",type:"button",children:"Browse"})]}),Object(R.jsx)("input",{type:"file",className:"visually-hidden",accept:".csv",id:"tutukaFile",name:"tutukaFile",onChange:function(e){return l(e,"tutukaFile")}}),Object(R.jsx)("input",{type:"file",className:"visually-hidden",accept:".csv",id:"clientFile",name:"clientFile",onChange:function(e){return l(e,"clientFile")}})]}),Object(R.jsx)("button",{style:{width:"10em"},className:"btn btn-primary mt-auto",type:"submit",children:"Compare"})]})]})},W=function(){var e=Object(a.useState)({hasCompared:!1,hasMatchedResult:!1}),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(),r=Object(l.a)(i,2),j=r[0],u=r[1],h=Object(o.a)({initialValues:{},onSubmit:function(e,t){var n=t.setSubmitting,a=new FormData;a.append("tutukaFile",e.tutukaFile),a.append("clientFile",e.clientFile),n(!0),y({url:"reconciliation/compare/",method:"POST",data:a}).then((function(e){var t=e.data;u(t.data),c((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasCompared:!0})}))})).catch((function(e){return console.log({error:e})})).finaly((function(){return n(!1)}))}}),x=h.values,m=h.handleSubmit,p=h.setFieldValue;return Object(R.jsx)(b,{children:Object(R.jsxs)(d.a,{onSubmit:m,children:[Object(R.jsx)(Q,{values:x,setFieldValue:p}),n.hasCompared&&x&&Object(R.jsx)(T,{values:x,setPageState:c,comparationData:j}),n.hasMatchedResult&&Object(R.jsx)(G,{comparationData:j})]})})};n(85);function X(){return Object(R.jsx)(W,{})}var Y=document.getElementById("root");r.a.render(Object(R.jsx)(a.StrictMode,{children:Object(R.jsx)(X,{})}),Y)}},[[86,1,2]]]);
//# sourceMappingURL=main.4efb9930.chunk.js.map