{"version":3,"sources":["styles/styled-home-wrapper.js","config/index.js","utils/item-row.js","pages/components/result-comparison.component.js","pages/components/results-matching.component.js","pages/components/upload-files.component.js","pages/home.js","App.js","index.js"],"names":["StyledHomeWrapper","styled","div","axios","Axios","create","baseURL","interceptors","request","use","config","headers","error","Promise","reject","Wrapper","li","ItemRow","title","content","style","className","PageWrapper","ResultComparisonComponent","values","setPageState","comparationData","console","log","generateData","data","key","totalRecords","matchingRecords","unmatchedRecords","Card","CardHeader","tutukaFile","name","CardBody","List","tutukaRecords","map","clientFile","clientRecords","type","onClick","prev","hasMatchedResult","ResultsMatchingComponent","useState","activeTab","setActiveTab","undefined","isViewing","setViewing","generateTableBody","withOptions","id","transactionId","suggested","transactionDate","transactionAmount","desc","transactionDescription","narrative","transactionNarrative","Date","toLocaleDateString","toLocaleString","clasName","toLowerCase","toggle","Modal","isOpen","ModalHeader","score","ModalBody","Table","ModalFooter","Button","color","Nav","tabs","NavItem","NavLink","TabContent","TabPane","tabId","Row","responsive","width","unmatchedTransactions","UploadWrapper","UploadFilesComponent","errors","setFieldError","setFieldValue","handleFile","e","persist","file","currentTarget","files","size","setTimeout","htmlFor","accept","onChange","HomePage","hasCompared","pageState","setComparationData","useFormik","initialValues","onSubmit","model","setSubmitting","formData","FormData","append","url","method","then","catch","finaly","handleSubmit","Form","App","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.4efb9930.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\n// export style wrapper for home page\r\nexport const StyledHomeWrapper = styled.div`\r\n  width: 100%;\r\n  max-width: 700px;\r\n  margin: 2em auto;\r\n  padding: 2em;\r\n  font-size: 85%;\r\n  background-color: white;\r\n\r\n  form {\r\n    & > * + * {\r\n      margin-top: 2em;\r\n    }\r\n  }\r\n`;\r\n","import Axios from \"axios\";\r\nimport { baseURL } from \"./config.json\";\r\n\r\nconst axios = Axios.create({\r\n  baseURL\r\n});\r\n\r\naxios.interceptors.request.use(\r\n  (config) => {\r\n    config.headers[\"Content-Type\"] = \"multipart/form-data\";\r\n\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axios;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.li`\r\n  display: grid;\r\n  align-items: center;\r\n  grid-template-columns: 1fr 1fr;\r\n  font-size: 12px;\r\n  gap: 5px;\r\n  justify-items: flex-start;\r\n`;\r\n\r\nexport const ItemRow = ({ title, content, style }) => {\r\n  return (\r\n    <Wrapper style={style}>\r\n      <div className=\"truncate\">{title}</div>\r\n      <div className=\"truncate bold\">{content || \"N/A\"}</div>\r\n    </Wrapper>\r\n  );\r\n};\r\n","import React, { useCallback } from \"react\";\r\nimport { Card, CardBody, CardHeader, List } from \"reactstrap\";\r\nimport styled from \"styled-components\";\r\nimport { ItemRow } from \"../../utils/item-row\";\r\n\r\nconst PageWrapper = styled.div`\r\n  padding: 0 2em;\r\n\r\n  .title {\r\n    font-size: 1.2rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  .content {\r\n    width: 100%;\r\n    padding: 1em 0em;\r\n\r\n    .card-box {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      flex-wrap: wrap;\r\n      gap: 20px;\r\n\r\n      & > div {\r\n        flex: 1;\r\n        min-width: 250px;\r\n        max-width: 100%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ResultComparisonComponent = ({\r\n  values,\r\n  setPageState,\r\n  comparationData\r\n}) => {\r\n  console.log({ comparationData });\r\n\r\n  const generateData = (data) => [\r\n    {\r\n      key: \"totalRecords\",\r\n      title: \"Total Records\",\r\n      content: data.totalRecords\r\n    },\r\n    {\r\n      key: \"matchingRecords\",\r\n      content: data.matchingRecords,\r\n      title: \"Matching Records\"\r\n    },\r\n    {\r\n      key: \"unmatchedRecords\",\r\n      title: \"Unmatched Records\",\r\n      content: data.unmatchedRecords\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <h2 className=\"title\">Comparison Results</h2>\r\n\r\n      <div className=\"content\">\r\n        <div className=\"card-box\">\r\n          <Card>\r\n            <CardHeader className=\"bold large\">\r\n              {values.tutukaFile.name}\r\n            </CardHeader>\r\n\r\n            <CardBody>\r\n              <List>\r\n                {generateData(comparationData.tutukaRecords).map(\r\n                  ({ key, title, content }) => (\r\n                    <ItemRow key={key} title={title} content={content} />\r\n                  )\r\n                )}\r\n              </List>\r\n            </CardBody>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"bold large\">\r\n              {values.clientFile.name}\r\n            </CardHeader>\r\n\r\n            <CardBody>\r\n              <List>\r\n                {generateData(comparationData.clientRecords).map(\r\n                  ({ key, title, content }) => (\r\n                    <ItemRow key={key} title={title} content={content} />\r\n                  )\r\n                )}\r\n              </List>\r\n            </CardBody>\r\n          </Card>\r\n        </div>\r\n\r\n        <div className=\"centered mt-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() =>\r\n              setPageState((prev) => ({ ...prev, hasMatchedResult: true }))\r\n            }\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Unmatched Report\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </PageWrapper>\r\n  );\r\n};\r\n","import React, { useMemo, useState } from \"react\";\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  Row,\r\n  Button,\r\n  TabContent,\r\n  Table,\r\n  TabPane\r\n} from \"reactstrap\";\r\nimport styled from \"styled-components\";\r\n\r\nconst PageWrapper = styled.div`\r\n  padding: 0 2em;\r\n\r\n  .content {\r\n    width: 100%;\r\n    padding: 1em 0em;\r\n\r\n    .navitem {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: flex-start;\r\n      border-bottom: 1px solid rgb(85, 216, 189);\r\n      padding: 0;\r\n\r\n      .navlink {\r\n        flex: 1;\r\n        border-radius: 0;\r\n        padding: 1em;\r\n        font-weight: 400;\r\n        min-width: 10em;\r\n        text-align: center;\r\n        cursor: context-menu;\r\n        border-bottom: 2px solid transparent;\r\n\r\n        &:hover {\r\n          font-weight: 500;\r\n        }\r\n\r\n        &.active {\r\n          border-width: 2px;\r\n          border-top-left-radius: 7px;\r\n          border-top-right-radius: 7px;\r\n          border-color: rgb(85, 216, 189);\r\n          font-weight: 700;\r\n\r\n          &::after {\r\n            width: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  tr th {\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nexport const ResultsMatchingComponent = ({ comparationData }) => {\r\n  const [activeTab, setActiveTab] = useState(\"tutuka\");\r\n  const [isViewing, setViewing] = useState(undefined);\r\n\r\n  const generateTableBody = (data, withOptions = true) => {\r\n    return (\r\n      <tbody>\r\n        {data.map(\r\n          ({\r\n            transactionId: id,\r\n            suggested,\r\n            transactionDate,\r\n            transactionAmount,\r\n            transactionDescription: desc,\r\n            transactionNarrative: narrative\r\n          }) => (\r\n            <tr key={id}>\r\n              <td>{new Date(transactionDate).toLocaleDateString()}</td>\r\n              <td>{transactionAmount.toLocaleString()}</td>\r\n              <td\r\n                clasName={`${desc === \"DEDUCT\" ? \"error-box\" : \"success-box\"}`}\r\n              >\r\n                {desc.toLowerCase()}\r\n              </td>\r\n              <td>{narrative}</td>\r\n              {withOptions && (\r\n                <td>\r\n                  <button\r\n                    onClick={() => setViewing(suggested)}\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-info small\"\r\n                  >\r\n                    View\r\n                  </button>\r\n                </td>\r\n              )}\r\n            </tr>\r\n          )\r\n        )}\r\n      </tbody>\r\n    );\r\n  };\r\n\r\n  if (isViewing) {\r\n    const toggle = () => setViewing(undefined);\r\n\r\n    return (\r\n      <Modal isOpen toggle={toggle}>\r\n        <ModalHeader className=\"bold large\" toggle={toggle}>\r\n          Suggested Amount: %{isViewing.score}\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <Table>\r\n            <thead>\r\n              <tr>\r\n                <th>Transaction Date</th>\r\n                <th>Transaction Amount</th>\r\n                <th>Reference</th>\r\n                <th>Narrative</th>\r\n              </tr>\r\n            </thead>\r\n            {generateTableBody([isViewing.suggested], false)}\r\n          </Table>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={toggle}>\r\n            OK\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <h2 className=\"large bold\">Unmatched Reports</h2>\r\n\r\n      <div className=\"content\">\r\n        <Nav tabs className=\"navitem\">\r\n          <NavItem>\r\n            <NavLink\r\n              className={`navlink ${activeTab === \"tutuka\" ? \"active\" : \"\"}`}\r\n              onClick={() => setActiveTab(\"tutuka\")}\r\n            >\r\n              {\" \"}\r\n              Base Records\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink\r\n              className={`navlink ${activeTab === \"client\" ? \"active\" : \"\"}`}\r\n              onClick={() => setActiveTab(\"client\")}\r\n            >\r\n              Client Records\r\n            </NavLink>\r\n          </NavItem>\r\n        </Nav>\r\n\r\n        <TabContent activeTab={activeTab}>\r\n          <TabPane tabId=\"tutuka\">\r\n            <Row>\r\n              <Table responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Transaction Date</th>\r\n                    <th>Transaction Amount</th>\r\n                    <th>Reference</th>\r\n                    <th>Narrative</th>\r\n                    <th style={{ width: 150 }}>View</th>\r\n                  </tr>\r\n                </thead>\r\n                {generateTableBody(\r\n                  comparationData.tutukaRecords.unmatchedTransactions\r\n                )}\r\n              </Table>\r\n            </Row>\r\n          </TabPane>\r\n          <TabPane tabId=\"client\">\r\n            <Row>\r\n              <Table responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Transaction Date</th>\r\n                    <th>Transaction Amount</th>\r\n                    <th>Reference</th>\r\n                    <th>Narrative</th>\r\n                  </tr>\r\n                </thead>\r\n                {generateTableBody(\r\n                  comparationData.clientRecords.unmatchedTransactions\r\n                )}\r\n              </Table>\r\n            </Row>\r\n          </TabPane>\r\n        </TabContent>\r\n      </div>\r\n    </PageWrapper>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst UploadWrapper = styled.div`\r\n  padding: 0 2em;\r\n\r\n  & > * + * {\r\n    margin-top: 2em;\r\n  }\r\n\r\n  .title {\r\n    font-size: 1.2rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    align-items: flex-end;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    gap: 20px;\r\n\r\n    .upload-box {\r\n      width: 100%;\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n      justify-content: center;\r\n      gap: 15px;\r\n\r\n      label {\r\n        width: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        gap: 10px;\r\n\r\n        span {\r\n          display: inline-block;\r\n          width: 100%;\r\n          min-width: 200px;\r\n          flex: 1;\r\n          height: 40px;\r\n          border: 1px solid green;\r\n          border-radius: 7px;\r\n          padding: 0.6em 1em;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UploadFilesComponent = ({\r\n  errors,\r\n  values,\r\n  setFieldError,\r\n  setFieldValue\r\n}) => {\r\n  const handleFile = (e, name) => {\r\n    e.persist();\r\n    const file = e.currentTarget.files[0];\r\n\r\n    if (!file) setFieldError(name, \"Upload a File\");\r\n\r\n    if (file.size > 300000) {\r\n      setFieldError(name, \"File size is too large\");\r\n      setTimeout(() => setFieldError(name, \"\"), 1500);\r\n      return;\r\n    }\r\n\r\n    if (typeof file !== \"undefined\") {\r\n      console.log({ file });\r\n      setFieldValue(name, file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <UploadWrapper>\r\n      <h2 className=\"title\">Specify files to compare</h2>\r\n\r\n      {errors?.tutukaFile ? (\r\n        <div className=\"error-box\">{errors.tutukaFile}</div>\r\n      ) : null}\r\n      {errors?.clientFile ? (\r\n        <div className=\"error-box\">{errors.clientFile}</div>\r\n      ) : null}\r\n      <div className=\"content\">\r\n        <div className=\"upload-box\">\r\n          <label htmlFor=\"tutukaFile\">\r\n            <span>{values.tutukaFile?.name ?? \"Select Base File\"}</span>\r\n\r\n            <div className=\"btn btn-outline-success\" type=\"button\">\r\n              Browse\r\n            </div>\r\n          </label>\r\n          <label htmlFor=\"clientFile\">\r\n            <span>{values.clientFile?.name || \"Select Client File\"}</span>\r\n            <div className=\"btn btn-outline-success\" type=\"button\">\r\n              Browse\r\n            </div>\r\n          </label>\r\n\r\n          <input\r\n            type=\"file\"\r\n            className=\"visually-hidden\"\r\n            accept=\".csv\"\r\n            id=\"tutukaFile\"\r\n            name=\"tutukaFile\"\r\n            onChange={(e) => handleFile(e, \"tutukaFile\")}\r\n          />\r\n          <input\r\n            type=\"file\"\r\n            className=\"visually-hidden\"\r\n            accept=\".csv\"\r\n            id=\"clientFile\"\r\n            name=\"clientFile\"\r\n            onChange={(e) => handleFile(e, \"clientFile\")}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          style={{ width: \"10em\" }}\r\n          className=\"btn btn-primary mt-auto\"\r\n          type=\"submit\"\r\n        >\r\n          Compare\r\n        </button>\r\n      </div>\r\n    </UploadWrapper>\r\n  );\r\n};\r\n","import { useFormik } from \"formik\";\r\nimport React, { useState } from \"react\";\r\nimport { Form } from \"reactstrap\";\r\nimport { StyledHomeWrapper } from \"../styles\";\r\nimport axios from \"../config\";\r\nimport {\r\n  ResultComparisonComponent,\r\n  ResultsMatchingComponent,\r\n  UploadFilesComponent\r\n} from \"./components\";\r\n\r\nexport const HomePage = () => {\r\n  // declare state\r\n  const [pageState, setPageState] = useState({\r\n    hasCompared: false,\r\n    hasMatchedResult: false\r\n  });\r\n\r\n  const [comparationData, setComparationData] = useState();\r\n\r\n  // declare form states with formik\r\n  const { values, handleSubmit, setFieldValue } = useFormik({\r\n    initialValues: {},\r\n    onSubmit: (model, { setSubmitting }) => {\r\n      // onSubmit, call API to compare the result\r\n      // update hasCompared state\r\n      const formData = new FormData();\r\n      formData.append(\"tutukaFile\", model.tutukaFile);\r\n      formData.append(\"clientFile\", model.clientFile);\r\n      setSubmitting(true);\r\n      axios({\r\n        url: \"reconciliation/compare/\",\r\n        method: \"POST\",\r\n        data: formData\r\n      })\r\n        .then(({ data }) => {\r\n          setComparationData(data.data);\r\n          setPageState((prev) => ({ ...prev, hasCompared: true }));\r\n        })\r\n        .catch((error) => console.log({ error }))\r\n        .finaly(() => setSubmitting(false));\r\n    }\r\n  });\r\n\r\n  return (\r\n    <StyledHomeWrapper>\r\n      <Form onSubmit={handleSubmit}>\r\n        <UploadFilesComponent values={values} setFieldValue={setFieldValue} />\r\n\r\n        {pageState.hasCompared && values && (\r\n          <ResultComparisonComponent\r\n            values={values}\r\n            setPageState={setPageState}\r\n            comparationData={comparationData}\r\n          />\r\n        )}\r\n\r\n        {pageState.hasMatchedResult && (\r\n          <ResultsMatchingComponent comparationData={comparationData} />\r\n        )}\r\n      </Form>\r\n    </StyledHomeWrapper>\r\n  );\r\n};\r\n","import { HomePage } from \"./pages\";\nimport \"./styles.css\";\n\nexport default function App() {\n  return <HomePage />;\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}